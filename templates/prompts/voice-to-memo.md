音声入力で作成した文字起こしメモを、読みやすく構造化されたメモとして再構成してください。

## 使用方法

### Claude Code
- エディタでテキストを選択後: `/memo.voice-to-memo`
- ファイル全体を対象: `/memo.voice-to-memo @filename`

### GitHub Copilot (VS Code)
- エディタでテキストを選択後: `/memo.voice-to-memo`
- 変数を使用: `${selection}` で選択テキスト、`${file}` でファイル全体

## タスク
音声入力された文字起こしメモを、構造化された読みやすいメモに変換してください。

## 入力
音声入力による文字起こしテキスト（話し言葉、同音異義語の誤り、構造化されていない内容を含む）
- Claude Code: 選択テキストまたは `@filename` で指定されたファイル
- GitHub Copilot: `${selection}` 変数で渡される選択テキスト

## 処理方針

### 1. 同音異義語の修正
日本語の音声認識では同音異義語の誤りが頻発します。文脈から正しい表記を推測して修正してください。

**よくある誤り例**:
- 「構成」↔「校正」↔「更正」↔「後生」
- 「機能」↔「気候」↔「帰港」
- 「実装」↔「実走」↔「実相」
- 「試行」↔「思考」↔「嗜好」↔「志向」
- 「検証」↔「研修」↔「懸賞」

### 2. 話し言葉から書き言葉への変換
- 口語表現を文章表現に変換
- 「えーと」「あの」などのフィラーを削除
- 「〜みたいな」→「〜のような」
- 「〜って感じ」→「〜という状態」
- 「〜かな」→「〜と考えられる」

### 3. 内容の構造化
- 関連する情報をグループ化
- 見出しを付けて階層構造を作成
- 箇条書きやテーブルを使用して整理
- 時系列がある場合は順序を明確に

### 4. 情報の補完と推測
- 文脈から省略された情報を推測して補完
- 推測した内容は `[推測: ...]` または「推測:」と明示
- 不明確な部分は `[要確認]` でマーク
- **重要**: 元の情報は削除せず、追加・整理のみ行う

## 出力形式

構造化されたMarkdown形式のメモ。以下の要素を含む：

1. **適切な見出し構造** (#, ##, ###)
2. **箇条書きリスト** (-, *)
3. **必要に応じてテーブル**
4. **コードブロック**（コマンドや設定がある場合）
5. **次のステップ/TODO項目**（アクションが含まれる場合）
6. **元の音声メモセクション** - 必ず最後に区切り線（`---`）の後に「元の音声メモ」セクションを追加し、元の文字起こしテキストをそのまま保持

## 出力例

### 入力例（音声文字起こし）
```
えーとこの間やった実験なんだけど
レズネット50を使って画像分類を試した
学習律は0.001でバッチサイズは32
結果はまあまあで精度は95パーセントくらいかな
次は構成を変えてみたいと思ってて
データ増強も試したいし
学習律をもうちょっと下げてみるのもありかなって
あと過学習してるっぽいからドロップアウトも検討したい
```

### 出力例（構造化メモ）
```markdown
# ResNet50を用いた画像分類実験

## 実験概要
ResNet50モデルを使用した画像分類タスクの実施結果。

## 実験設定
- モデル: ResNet50 [推測: 文字起こし「レズネット」→「ResNet」]
- 学習率: 0.001 [推測: 文字起こし「学習律」→「学習率」]
- バッチサイズ: 32

## 実験結果
- 精度: 約95% [要確認: 正確な値を記録する必要あり]
- 評価: まあまあの結果

## 観察された課題
- 過学習の傾向が見られる [推測: 文字起こし「過学習してるっぽい」から]

## 次のステップ

### 優先度高
- [ ] モデル構成の変更を検討 [推測: 文字起こし「構成」→「モデル構成」と解釈]
- [ ] ドロップアウト層の追加（過学習対策）

### 試したい手法
- [ ] データ増強（Data Augmentation）の適用
- [ ] 学習率の調整（より低い値で試行）
  - 候補: 0.0001, 0.0005など

---

## 元の音声メモ

えーとこの間やった実験なんだけど
レズネット50を使って画像分類を試した
学習律は0.001でバッチサイズは32
結果はまあまあで精度は95パーセントくらいかな
次は構成を変えてみたいと思ってて
データ増強も試したいし
学習律をもうちょっと下げてみるのもありかなって
あと過学習してるっぽいからドロップアウトも検討したい
```

## 注意事項

### 情報の保全
- **元の情報は一切削除しない**（重複を除く）
- すべての数値、固有名詞、技術用語を保持
- 不明確でも削除せず `[要確認]` でマーク
- **必ず最後に「元の音声メモ」セクションを追加**し、入力された文字起こしテキストをそのまま保存

### 推測と修正の明示
- 同音異義語の修正は文脈から判断
- 修正箇所が重要な場合は `[推測: 元「X」→「Y」]` と注記
- 補完した情報には「推測:」プレフィックスを付ける

### 技術用語の正確性
- 専門用語は正確な表記に修正（例: レズネット→ResNet）
- 英語表記が標準的な用語は英語で記述
- 単位や記号を適切に使用（%、℃、など）

### 構造化のレベル
- 内容量に応じて適切な階層レベルを選択
- 短いメモは過度に構造化しない
- 長いメモは必ずセクション分けする
- 実験メモの場合は実験ノート形式も検討

## 特殊ケース

### 実験関連の音声メモ
実験に関する内容の場合、`draft-exp` コマンドで使用される実験ノート形式を参考にして構造化することを推奨します:
1. 目的と仮説
2. 手法と設定
3. 入力データ
4. 実行内容
5. 結果
6. 分析と考察
7. 次のステップ

### 会議メモや議事録
会議の文字起こしの場合:
- 日時、参加者を冒頭に記載
- 議題ごとにセクション分け
- 決定事項と TODO を明確に分離

### アイデアメモ
ブレインストーミングの記録の場合:
- カテゴリごとにグループ化
- 優先度を推測して整理
- 関連するアイデアをリンク
