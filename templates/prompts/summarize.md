複数のメモファイルを分析し、まとまったレビューレポートを自動生成してください。

## 使用方法

### Claude Code
- 複数のデイリーメモを参照: `/memo.summarize @general/daily/2025/01/*.md`
- または特定プロジェクトのメモ: `/memo.summarize @work/project-name/2025/01/*.md`
- 複数ディレクトリ: `/memo.summarize @general/daily/2025/01/*.md @work/*/2025/01/*.md`

### GitHub Copilot (VS Code)
- Workspace 内のファイルを検索して参照: `/memo.summarize`
- チャットで期間を指定: 「1月の全メモを集約してください」

## タスク
指定された複数のメモファイルを分析し、以下の内容を含むサマリーレポートを生成してください。

## 入力
- デイリーメモ（general/daily/ または work/*/）
- 実験ノート（work/*/experiments/）
- 一般メモ（general/notes/）
- 対象となるすべてのメモファイル

## 出力形式
以下の構造でMarkdown形式のレポートを生成：

```markdown
# メモサマリー: YYYY年MM月 または 指定期間

## 概要
対象期間の主な活動と成果を2-3文で要約

## 主な成果・アクティビティ
- 成果1: 具体的な達成内容
- 成果2: ...
- 成果3: ...

## プロジェクト別の活動
### プロジェクトA
- 実施したこと
- 得られた結果
- 進捗状況

### プロジェクトB
- ...

## 実験まとめ（該当する場合）
| 実験ID | タイトル | 主な結果 | ステータス |
|--------|---------|---------|-----------|
| exp001 | ... | ... | ✅ 完了 |
| exp002 | ... | ... | 🔬 進行中 |

## 重要なトピック・学び
- 技術的な発見や学び
- プロセスの改善点
- 新しい知見や気づき

## 課題と次のアクション
### 未解決の課題
- 課題1: 詳細と対応方針
- 課題2: ...

### 次のステップ・TODO
- [ ] アクションアイテム1
- [ ] アクションアイテム2
- [ ] アクションアイテム3

## 統計情報（該当する場合）
- 対象メモ数: X件
- 実験実施数: Y件
- プロジェクト数: Z件
```

## 分析のポイント
- **時系列順**: ファイル名の日付から時系列を把握
- **プロジェクト分類**: work/ 配下のディレクトリ名からプロジェクトを抽出
- **実験の識別**: 実験ノート（expXXX）は結果とステータスを重点的に
- **デイリーメモの集約**: 日々の定性的な気づきや進捗を統合
- **重複の排除**: 同じ内容が複数メモに書かれている場合は統合
- **優先順位**: 重要な成果や課題を上位に配置
- **アクションの抽出**: 未完了のTODOや「次は〜」といった記述を集約

## 情報不足時の対応

メモの内容から十分な情報を読み取れない場合、または集約の方針が不明確な場合は、**作業を開始する前に**ユーザーに質問してください。

### 質問が必要なケース

1. **対象期間が不明確な場合**
   - 複数の期間のメモが混在している
   - どの期間を集約すべきか判断できない

2. **プロジェクトの絞り込みが必要な場合**
   - 複数のプロジェクトが含まれている
   - 全てをまとめるか、特定プロジェクトに絞るか不明

3. **集約の視点が不明確な場合**
   - 技術的な詳細重視か、進捗報告重視か
   - どのような粒度でまとめるべきか

4. **メモの内容が断片的で文脈が不明な場合**
   - 略語や固有名詞の意味が推測できない
   - プロジェクトのコンテキストが不足している

5. **分析に必要な観点がメモに不足している場合**
   - 実験結果はあるが、実験設定や条件の情報が不足
   - 進捗や達成事項は書かれているが、課題や問題点の記載が不足
   - 実装内容は書かれているが、設計判断の理由や背景が不足
   - 数値結果はあるが、ベースラインとの比較や評価基準が不足
   - 次のアクションが書かれているが、優先度や期限が不明
   - 技術的な詳細はあるが、ビジネス的な影響や価値の記載が不足

### 質問の形式

**優先: 選択形式での質問**

選択肢を提示してユーザーに選ばせる形式を優先してください。Claude Codeでは`AskUserQuestion`機能を使用できます。

**質問例**:

```
対象期間が複数含まれています。どの期間を集約しますか？

選択肢:
1. 2025年1月全体
2. 2025年1月前半（1日〜15日）
3. 2025年1月後半（16日〜31日）
4. 指定期間（カスタム）
```

```
複数のプロジェクトが含まれています。集約の範囲を選択してください。

選択肢:
1. 全プロジェクトを含める
2. プロジェクトAのみ
3. プロジェクトBのみ
4. 特定のプロジェクトを指定
```

```
サマリーの視点を選択してください。

選択肢:
1. 技術的詳細重視（実験結果、実装内容など）
2. 進捗報告重視（達成事項、課題など）
3. 学びと気づき重視（知見、改善点など）
4. バランス型（全ての要素を含める）
```

```
メモに実験結果はありますが、実験設定の情報が不足しています。どう扱いますか？

選択肢:
1. 利用可能な情報のみでサマリーを作成（設定不明として記載）
2. 実験設定について追加情報を提供してもらう
3. 実験ファイルを直接確認して設定を抽出する
```

```
数値結果はありますが、評価基準や比較対象が不明です。どう扱いますか？

選択肢:
1. 数値のみを記載し、評価基準は不明として扱う
2. 一般的な評価基準（業界標準など）を推測して記載
3. ユーザーに評価基準や比較対象を確認する
```

```
次のアクションが書かれていますが、優先度が不明です。どう整理しますか？

選択肢:
1. 記載順をそのまま維持
2. 重要そうな順に並べ替える（推測ベース）
3. ユーザーに優先度を確認する
4. すべて同等の優先度として扱う
```

### 質問のタイミング

- メモを読み込んだ後、集約作業を開始する**前**に質問
- 一度に複数の不明点がある場合は、まとめて質問
- 推測で進めるのではなく、不明点は必ず確認

## 注意事項
- メモのファイル名から日付とプロジェクト名を推測
- 内容が少ない場合は、主要な要素のみ出力
- 期間の表記は柔軟に（週次、月次、カスタム期間など）
- プロジェクトが1つだけの場合は「プロジェクト別」セクションを省略可
